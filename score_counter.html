<!DOCTYPE html>
<html>

<head>
  <title>점수 계산기</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="counter.css">
  <script src="counter.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@500&display=swap" rel="stylesheet">
  <link rel="icon" href="vo/riichi.ico" type="image/x-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
</head>

<body onclick="openFullScreenMode();" onmouseup="hidegap();" touchend="idegap();">
  <div id="Gap_mode" style="display: none;">0</div>
  <script>
    window.onload = function () {
      var aa=document.querySelector('#DownPerson_Wind');
      aa.addEventListener('touchstart',
      function (){
        var who='DownPerson';
        var scores=['#DownPerson_Score','#RightPerson_Score','#UpPerson_Score','#LeftPerson_Score'];
        var chk=document.querySelector('#Gap_mode');
        for (var i=0;i<4;i++){
            document.querySelector(scores[i]+'gap').innerText=document.querySelector(scores[i]).innerText;
        }
        var comparescore=document.querySelector('#'+who+'_Scoregap').innerText;
        for (var i=0;i<4;i++){
            document.querySelector(scores[i]).innerText-=comparescore;
        }
        chk.innerText=1;
      }
      ,false);
      
    }
    
  </script>
  <!-- 아래쪽 -->
  <div class="container" id="DownPerson">
    <div class="riichi_stick" id="DownPerson_Riichi">
      <div class="circle"></div>
    </div>
    <div class="wind">
      <span style="color: red;" id="DownPerson_Wind">
        東
      </span>
    </div>
    <div class="score" onclick="riichi('DownPerson');">
      <span id="DownPerson_Score" style="font-size: 80px;">250</span><span id="DownPerson_Score00" style="font-size: 50px;">00</span>
    </div>
    <div id="DownPerson_Scorechange" class="change">
      0
    </div>
    <div id="DownPerson_Scoregap" style="display: none;">0</div>
  </div>
  <!-- 오른쪽 -->
  <div class="container" id="RightPerson">
    <div class="riichi_stick" id="RightPerson_Riichi">
      <div class="circle"></div>
    </div>
    <div class="wind" onmousedown="showgap('RightPerson');">
      <span id="RightPerson_Wind">南</span>
    </div>
    <div class="score" onclick="riichi('RightPerson');">
      <span id="RightPerson_Score" style="font-size: 80px;">250</span><span id="RightPerson_Score00" style="font-size: 50px;">00</span>
    </div>
    <div id="RightPerson_Scorechange" class="change">
      0
    </div>
    <div id="RightPerson_Scoregap" style="display: none;">0</div>
  </div>
  <!-- 위쪽 -->
  <div class="container" id="UpPerson">
    <div class="riichi_stick" id="UpPerson_Riichi">
      <div class="circle"></div>
    </div>
    <div class="wind" onmousedown="showgap('UpPerson');">
      <span id="UpPerson_Wind">西</span>
    </div>
    <div class="score" onclick="riichi('UpPerson');">
      <span id="UpPerson_Score" style="font-size: 80px;">250</span><span id="UpPerson_Score00" style="font-size: 50px;">00</span>
    </div>
    <div id="UpPerson_Scorechange" class="change">
      0
    </div>
    <div id="UpPerson_Scoregap" style="display: none;">0</div>
  </div>
  <!-- 왼쪽 -->
  <div class="container" id="LeftPerson">
    <div class="riichi_stick" id="LeftPerson_Riichi">
      <div class="circle"></div>
    </div>
    <div class="wind" onmousedown="showgap('LeftPerson');">
      <span id="LeftPerson_Wind">北</span>
    </div>
    <div class="score" onclick="riichi('LeftPerson');">
      <span id="LeftPerson_Score" style="font-size: 80px;">250</span><span id="LeftPerson_Score00" style="font-size: 50px;">00</span>
    </div>
    <div id="LeftPerson_Scorechange"
    class="change">
      0
    </div>
    <div id="LeftPerson_Scoregap" style="display: none;">0</div>
  </div>
  <!-- 가운데 -->
  <div class="container_mid" id='Mid'>
    <div class="now">
      <span id="nowwind">東</span> <span id=nowcnt>1</span> 局
    </div>
    <div class="riichi">
      <div class="riichi_stick_mini">
        <div class="circle" style="width:5px;
        height:5px;"></div>
      </div>  
      <div style="font-size: 40px;">
        x <span id="riichi_count">0</span>
      </div>
    </div>
    <div class="renjang">
      <div class="riichi_stick_mini">
        <div class="blackcircle" style="margin: auto 0px 5px 0px;visibility: hidden;"></div>
        <div class="blackcircle"></div>
        <div class="blackcircle" style="margin: auto 0px 3px 0px;"></div>
        <div class="blackcircle"></div>
        <div class="blackcircle" style="margin: auto 0px 3px 0px;"></div>
        <div class="blackcircle"></div>
        <div class="blackcircle" style="margin: auto 0px 3px 0px;"></div>
        <div class="blackcircle"></div>
        <div class="blackcircle" style="margin: auto 0px 3px 0px;"></div>
        <div class="blackcircle" style="margin: 5px 0px auto 0px; visibility: hidden;"></div>
      </div>
      <div style="font-size: 40px;">
        x <span id="renjang_count">0</span>
      </div>
    </div>
    <div class="ron" onclick="ron1();">
      론
    </div>
    <div class="tsumo" onclick="tsumo1();">
      쯔모
    </div>
    <div class="ryuukyoku" onclick="ryuukyoku1();">
      유국
    </div>
  </div>
  <!-- 주사위버튼 -->
  <div id="Roll_Dice" onclick="dice();">
    <div class="container_dice" id="opendice">
      <script>document.querySelector('#opendice').innerHTML=makedice(5);</script>
    </div> 
  </div>
  <!-- 옵션버튼 -->
  <div id="Show_Option" onclick="option();">
    <div class="container_option" id="openoption">
      <div class="circle_button" style="grid-area: _1;"></div>
      <div class="circle_button" style="grid-area: _2;"></div>
      <div class="circle_button" style="grid-area: _3;"></div>
    </div>
  </div>


  <!-- 론1 -->
  <div class="modal" id="Modal_ron1" onclick="
    if (event.target==this){
      this.style.display='';
      makeunchk(['down', 'right', 'up', 'left'],'check_ron1');
    }
  ">
    <div class="modal_content">
      <div class="container_choose">
        <div class="explain">
          론한 사람을 선택해주세요.
        </div>
        <div class="downcheck" id="downcheck_ron1" onclick="makechk(this);">
          ▼
        </div>
        <div class="rightcheck" id="rightcheck_ron1" onclick="makechk(this);">
          ▶
        </div>
        <div class="upcheck" id="upcheck_ron1" onclick="makechk(this);">
          ▲
        </div>
        <div class="leftcheck" id="leftcheck_ron1" onclick="makechk(this);">
          ◀
        </div>
        <div class="ok"  onclick="ron2();">
          OK
        </div>
      </div>
    </div>
  </div>
  <!-- 론2 -->
  <div class="modal" id="Modal_ron2" onclick="
    if (event.target==this){
      this.style.display='';
      makeunchk(['down', 'right', 'up', 'left'],'check_ron1');
      makeunchk(['down', 'right', 'up', 'left'],'check_ron2');
    }
  ">
    <div class="modal_content">
      <div class="container_choose">
        <div class="explain">
          방총당한 사람을 선택해주세요.
        </div>
        <div class="downcheck" id="downcheck_ron2" onclick="makechk(this); 
        makeunchk(['right', 'up', 'left'],'check_ron2');">
          ▼
        </div>
        <div class="rightcheck" id="rightcheck_ron2" onclick="makechk(this); makeunchk(['up', 'left', 'down'], 'check_ron2');">
          ▶
        </div>
        <div class="upcheck" id="upcheck_ron2" onclick="makechk(this); makeunchk(['left', 'down', 'right'], 'check_ron2');">
          ▲
        </div>
        <div class="leftcheck" id="leftcheck_ron2" onclick="makechk(this); makeunchk(['down', 'right', 'up'],'check_ron2');">
          ◀
        </div>
        <div class="ok"  onclick="ron3();">
          OK
        </div>
      </div>
    </div>
  </div>
  <!-- 론3 -->
  <div class="modal" id="Modal_ron3" onclick="
    if (event.target==this){
      this.style.display='';
      makeunchk(['down', 'right', 'up', 'left'],'check_ron1');
      makeunchk(['down', 'right', 'up', 'left'],'check_ron2');
      document.querySelector('#fan_ron').selectedIndex=0;
      document.querySelector('#bu_ron').selectedIndex=0;
    }
  ">
    <div class="modal_content">
      <div style="font-size: 20px;" id="name_ron">
        -1
      </div>
      <div style="font-size: 40px; margin: 20px;">
        판:
        <select id="fan_ron">
          <script>
            for (var i=1;i<=12;i++)
              document.querySelector('#fan_ron').innerHTML+='<option>'+i+'</option>';
          </script>
          <option>13+</option>
          <option>역만</option>
          <option>2배역만</option>
          <option>3배역만</option>
          <option>4배역만</option>
          <option>5배역만</option>
          <option>6배역만</option>
        </select>
      </div>
      <div style="font-size: 40px; margin: 20px;">
        부: 
        <select id="bu_ron" onchange="select(this);">
          <script>
            var arr=[20, 25, 30, 40, 50, 60, 70, 80, 90, 100, 110];
            for (var i=0;i<arr.length;i++)
              document.querySelector('#bu_ron').innerHTML+='<option>'+arr[i]+'</option>';
          </script>
        </select>
      </div>
      <div style="font-size: 20px;" onclick="ron4();">
        OK
      </div>
      <div id="who_ron" style="display: none;">
        0
      </div>
      <div id="fancnt_ron" style="display: none;">
        0,0,0,0,
      </div>
      <div id="bucnt_ron" style="display: none;">
        0,0,0,0,
      </div>
    </div>
  </div>
  <!-- 쯔모1 -->
  <div class="modal" id="Modal_tsumo1" onclick="
    if (event.target==this){
      this.style.display='';
      makeunchk(['down', 'right', 'up', 'left'],'check_tsumo');
    }
  ">
    <div class="modal_content">
      <div class="container_choose">
        <div class="explain">
          쯔모한 사람을 선택해주세요.
        </div>
        <div class="downcheck" id="downcheck_tsumo" onclick="makechk(this); 
        makeunchk(['right', 'up', 'left'],'check_tsumo');">
          ▼
        </div>
        <div class="rightcheck" id="rightcheck_tsumo" onclick="makechk(this); makeunchk(['up', 'left', 'down'], 'check_tsumo');">
          ▶
        </div>
        <div class="upcheck" id="upcheck_tsumo" onclick="makechk(this); makeunchk(['left', 'down', 'right'], 'check_tsumo');">
          ▲
        </div>
        <div class="leftcheck" id="leftcheck_tsumo" onclick="makechk(this); makeunchk(['down', 'right', 'up'],'check_tsumo');">
          ◀
        </div>
        <div class="ok"  onclick="tsumo2();">
          OK
        </div>
      </div>
    </div>
  </div>
  <!-- 쯔모2 -->
  <div class="modal" id="Modal_tsumo2" onclick="
    if (event.target==this){
      this.style.display='';
      makeunchk(['down', 'right', 'up', 'left'],'check_tsumo');
      document.querySelector('#fan_tsumo').selectedIndex=0; 
      document.querySelector('#bu_tsumo').selectedIndex=0;
    }
  ">
    <div class="modal_content">
      <div style="font-size: 20px;" id="name_tsumo">
        -1
      </div>
      <div style="font-size: 40px; margin: 20px;">
        판:
        <select id="fan_tsumo">
          <script>
            for (var i=1;i<=12;i++)
              document.querySelector('#fan_tsumo').innerHTML+='<option>'+i+'</option>';
          </script>
          <option>13+</option>
          <option>역만</option>
          <option>2배역만</option>
          <option>3배역만</option>
          <option>4배역만</option>
          <option>5배역만</option>
          <option>6배역만</option>
        </select>
      </div>
      <div style="font-size: 40px; margin: 20px;">
        부: 
        <select id="bu_tsumo" onchange="select(this);">
          <script>
            var arr=[20, 25, 30, 40, 50, 60, 70, 80, 90, 100, 110];
            for (var i=0;i<arr.length;i++)
              document.querySelector('#bu_tsumo').innerHTML+='<option>'+arr[i]+'</option>';
          </script>
        </select>
      </div>
      <div style="font-size: 20px;" onclick="
       var arr=[20, 25, 30, 40, 50, 60, 70, 80, 90, 100, 110];
      var fan=document.querySelector('#fan_tsumo').options[document.querySelector('#fan_tsumo').selectedIndex].index+1;
      var bu=arr[document.querySelector('#bu_tsumo').options[document.querySelector('#bu_tsumo').selectedIndex].index];
      tsumo_General(fan, bu);
      ">
        OK
      </div>
    </div>
  </div>
  <!-- 유국1 -->
  <div class="modal" id="Modal_ryuukyoku1" onclick="
    if (event.target==this)
      this.style.display='';
  ">
    <div class="modal_content">
      <div style="font-size: 40px; margin: 20px;" onclick="ryuukyoku2();">
        일반유국
      </div>
      <div style="font-size: 40px; margin: 20px;" onclick="ryuukyoku_Special();">
        특수유국
      </div>
    </div>
  </div>
  <!-- 유국2 -->
  <div class="modal" id="Modal_ryuukyoku2" onclick="
    if (event.target==this){
      this.style.display='';
      makeunchk(['down', 'right', 'up', 'left'],'check_ryuukyoku');
    }
  ">
    <div class="modal_content">
      <div class="container_choose">
        <div class="explain">
          텐파이인 사람을 선택해주세요.
        </div>
        <div class="downcheck" id="downcheck_ryuukyoku" onclick="makechk(this);">
          ▼
        </div>
        <div class="rightcheck" id="rightcheck_ryuukyoku" onclick="makechk(this);">
          ▶
        </div>
        <div class="upcheck" id="upcheck_ryuukyoku" onclick="makechk(this);">
          ▲
        </div>
        <div class="leftcheck" id="leftcheck_ryuukyoku" onclick="makechk(this);">
          ◀
        </div>
        <div class="ok"  onclick="ryuukyoku_General();">
          ok
        </div>
      </div>
    </div>
  </div>
  <!-- 점수 보여주기-->
  <div class="modal" id="Modal_showscore" onclick="
    if (event.target==this){
      this.style.display='';
    }
  ">
    <div class="modal_content" style="border-radius:50%;">
      <div class="container_showscore">
        <div class="downscore" id="DownPerson_ScoreTmp">
          0
        </div>
        <div class="rightscore" id="RightPerson_ScoreTmp">
          0
        </div>
        <div class="upscore" id="UpPerson_ScoreTmp">
          0
        </div>
        <div class="leftscore" id="LeftPerson_ScoreTmp">
          0
        </div>
        <div id="what" style="display: none;">
          0
        </div>
        <div class="ok" onclick="
        var scorestmp=['#DownPerson_ScoreTmp','#RightPerson_ScoreTmp','#UpPerson_ScoreTmp','#LeftPerson_ScoreTmp'];
        var changed=[0,0,0,0];
        for (var i=0;i<4;i++){
          changed[i]=document.querySelector(scorestmp[i]).innerText/100;
        }
        ok_score(changed);
        ">
          ok
        </div>
      </div>
    </div>
  </div>

  <!-- 주사위 -->
  <div class="modal" id="Modal_dice" onclick="
  if (event.target==this){
    this.style.display='';
    document.querySelector('#dice1').innerHTML='';
    document.querySelector('#dice2').innerHTML='';
    document.querySelector('#dicesum').innerText='?';
    var light=['#leftlight','#downlight','#rightlight','#uplight'];
    for (var i=0;i<4;i++){
        document.querySelector(light[i]).style.visibility='';
    }
  }
  ">
    <div class="modal_content">
      <div class="container_roll">
        <div class="container_dice" style="grid-area: dice_1; transform: scale(2);" id="dice1" >
        </div>
        <div class="container_dice" style="grid-area: dice_2; transform: scale(2);" id="dice2">
        </div>
        <div class="plus">
          +
        </div>
        <div class="equal">
          =
        </div>
        <div class="sum" id="dicesum">
          ?
        </div>
        <div class="roll" onclick="roll();">
          굴리기
        </div>
        <div class="downdice" id="downlight">
          ▼
        </div>
        <div class="rightdice" id="rightlight">
          ▶
        </div>
        <div class="updice" id="uplight">
          ▲
        </div>
        <div class="leftdice" id="leftlight">
          ◀
        </div>
      </div>
    </div>
  </div>

  <!-- 옵션 -->
  <div class="modal" id="Modal_option" onclick="
    if (event.target==this)
      this.style.display='';
  ">
    <div class="modal_content">
      <div style="font-size: 40px; margin: 20px;" onclick="modify();">
        점수 수정
      </div>
      <div style="font-size: 40px; margin: 20px;" onclick="record();">
        점수 기록
      </div>
    </div>
  </div>
  <!-- 점수 수정 -->
  <div class="modal" id="Modal_modify" onclick="
  if (event.target==this){
    this.style.display='';
  }
  ">
    <div class="modal_content" style="font-size: 20px;">
      <div class="container_modify">
          <div style="grid-area: name; font-size: 30px;">
            이름
          </div>
          <div style="grid-area: name0; margin: 5px;">
            ▼<br><input type="text" maxlength="4" id="name0">
          </div>
          <div style="grid-area: name1; margin: 5px;">
            ▶<br><input type="text" maxlength="4" id="name1">
          </div>
          <div style="grid-area: name2; margin: 5px;">
            ▲<br><input type="text" maxlength="4" id="name2">
          </div>
          <div style="grid-area: name3; margin: 5px;">
            ◀<br><input type="text" maxlength="4" id="name3">
          </div>
        <div style="grid-area: score; font-size: 30px;">
          점수
        </div>
        <div style="grid-area: score0; margin: 5px;">
          ▼<br><input type="number" id="score0">
        </div>
        <div style="grid-area: score1; margin: 5px;">
          ▶<br><input type="number" id="score1">
        </div>
        <div style="grid-area: score2; margin: 5px;">
          ▲<br><input type="number" id="score2">
        </div>
        <div style="grid-area: score3; margin: 5px;">
          ◀<br><input type="number" id="score3">
        </div>
        <div style="grid-area: ok; font-size: 30px;" onclick="save();">
          ok
        </div>
      </div>
    </div>
  </div>
  <!-- 점수 기록 -->
  <div class="modal" id="Modal_record" onclick="
  if (event.target==this){
    this.style.display='';
  }
  ">
    <div class="modal_content">
      <div class="container_record" style="overflow: auto;">
        <div style="grid-area: downname; font-size: 25px;" id="DownPerson_Name">▼</div>
        <div style="grid-area: rightname; font-size: 25px;" id="RightPerson_Name">▶</div>
        <div style="grid-area: upname; font-size: 25px;" id="UpPerson_Name">▲</div>
        <div style="grid-area: leftname; font-size: 25px;" id="LeftPerson_Name">◀</div>
        <div style="grid-area: when; font-size: 20px;" id="when">
          시작점수
        </div>
        <div style="grid-area: downrecord; font-size: 20px;" id="DownPerson_Scorerecord">
          25000
        </div>
        <div style="grid-area: rightrecord; font-size: 20px;" id="RightPerson_Scorerecord">
          25000
        </div>
        <div style="grid-area: uprecord; font-size: 20px;" id="UpPerson_Scorerecord">
          25000
        </div>
        <div style="grid-area: leftrecord; font-size: 20px;" id="LeftPerson_Scorerecord">
          25000
        </div>
      </div>
    </div>
  </div>
  
  <!-- 경고창 -->
  <div class="modal" id="Modal_alert" onclick="
  if (event.target==this)
    this.style.display='';
  ">
    <div class="modal_content">
      <div style="font-size: 20px; margin: 20px;" id="Modal_alertText">
        .
      </div>
    </div>
  </div>

</body>

</html>